<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>關卡一覽</title>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon">
<link href="common/css/common.css" rel="stylesheet" type="text/css" />
<link href="common/css/detail_info.css" rel="stylesheet" type="text/css" />
<link href="common/css/sidebar.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="common/js/jquery.min.js"></script>
<script type="text/javascript" src="common/js/sidebar.js"></script>
<script type='text/javascript' src='common/js/master.js'></script>
<script type='text/javascript' src='common/js/transData.js'></script>
<script type="text/javascript" src="common/js/smoothRollOver.js"></script>
<script type="text/javascript" src="common/js/scrollTop.js"></script>
<script type="text/javascript" src="common/js/jquery.tablesorter.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70142247-1', 'auto');
  ga('require', 'linkid');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
<script type="text/javascript">
function dataRead(){var a="",r=nowTime(),m=[[2038,"\u967d\u5149"],[2039,"\u6c34\u908a"]];0>$("#fexpup").prop("value")?$("#fexpup").prop("value",0):100<$("#fexpup").prop("value")?$("#fexpup").prop("value",100):$("#fexpup").prop("value",Math.floor($("#fexpup").prop("value")));for(var b in master.mstQuest)if(master.mstQuest[b].openedAt<=r&&master.mstQuest[b].closedAt>=r&&2!=master.mstQuest[b].flag&&!master.mstQuest[b].name.match(/^[a-z0-9]*$/)&&(!$("#nofree").prop("checked")||1!=master.mstQuest[b].afterClear)){var a=
a+'<tr><td style="text-align:left;">',t=findName(master.mstSpot,master.mstQuest[b].spotId),n=findName(master.mstWar,master.mstSpot[t].warId);0<master.mstQuest[b].chapterSubId&&1==master.mstQuest[b].type&&(a+=master.mstWar[n].name+" \u7b2c"+master.mstQuest[b].chapterSubId+"\u7bc0 ");if(3==master.mstQuest[b].type||0!=master.mstQuest[b].charaIconId)a:for(var h in master.mstSvt)for(var v in master.mstSvt[h].relateQuestIds)if(master.mstSvt[h].relateQuestIds[v]==master.mstQuest[b].id){a+='<a href="svtData.html?';
a=0==master.mstSvt[h].collectionNo?a+("id="+master.mstSvt[h].id):a+("no="+master.mstSvt[h].collectionNo);a+='"><img src="common/images/icon/faces/'+master.mstSvt[h].id+'0.png" class="itemS" title="'+findSvtNameZh2(master.mstSvt[h].id)+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" /></a> ';break a}a+=master.mstQuest[b].name;a+="</td><td>";2==master.mstQuest[b].consumeType&&(a+="BP ");if(3!=master.mstQuest[b].consumeType)a+=master.mstQuest[b].actConsume;else for(var l in master.mstQuestConsumeItem)if(master.mstQuestConsumeItem[l].questId==
master.mstQuest[b].id)for(var p in master.mstQuestConsumeItem[l].itemIds){var c=findName(master.mstItem,master.mstQuestConsumeItem[l].itemIds[p]),a=a+('<img src="common/images/icon/items/'+master.mstItem[c].imageId+'.png" class="itemS" title="'+master.mstItem[c].name+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" />x'+master.mstQuestConsumeItem[l].nums[p]);1==p%2&&(a+="<br>")}var a=a+"</td><td>",c=[],f;for(f in master.mstQuestPhase)master.mstQuestPhase[f].questId==master.mstQuest[b].id&&
c.push([master.mstQuestPhase[f].classIds,master.mstQuestPhase[f].individuality,master.mstQuestPhase[f].qp,master.mstQuestPhase[f].playerExp,master.mstQuestPhase[f].friendshipExp]);c[0][4]+=parseInt($("#fexpup").prop("value"));var a=a+c[0][4],a=a+"</td><td>",a=1==master.mstQuest[b].consumeType&&0!=master.mstQuest[b].actConsume?a+Math.round(100*c[0][4]/master.mstQuest[b].actConsume)/100:a+"0",a=a+"</td><td>",a=a+c[0][3],a=a+"</td><td>",a=1==master.mstQuest[b].consumeType&&0!=master.mstQuest[b].actConsume?
a+Math.round(100*c[0][3]/master.mstQuest[b].actConsume)/100:a+"0",a=a+"</td><td>",a=a+c[0][2],a=a+'</td><td style="text-align:left;">',k=[],q;for(q in m){k.length=0;for(f in c)for(var w in c[f][1])c[f][1][w]==m[q][0]&&k.push(parseInt(f)+1);0<k.length&&(a+="\u3014"+m[q][1]+"\u3015");a+=k;0<k.length&&(a+="<br>")}a+="</td><td>";if(8==master.mstQuest[b].giftIconId||9==master.mstQuest[b].giftIconId)a+='<img src="common/images/icon/items/'+master.mstQuest[b].giftIconId+'.png" class="itemS" />';var c="",
k=master.mstQuest[b].giftId,u=0,d;for(d in master.mstGift)if(k==master.mstGift[d].id){if(2==master.mstGift[d].type)c+='<img src="common/images/icon/items/'+master.mstItem[findName(master.mstItem,master.mstGift[d].objectId)].imageId+'.png" class="itemS" title="'+master.mstItem[findName(master.mstItem,master.mstGift[d].objectId)].name+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" />';else if(1==master.mstGift[d].type||7==master.mstGift[d].type){var c=c+('<img src="common/images/icon/faces/'+
master.mstGift[d].objectId),g=master.mstSvt[findName(master.mstSvt,master.mstGift[d].objectId)].type;6!=g&&3!=g&&(c+="0");c+='.png" class="itemS" title="'+findSvtNameZh2(master.mstGift[d].objectId)+'" alt="'+findSvtNameZh2(master.mstGift[d].objectId)+'" onerror="javascript:this.src=\'common/images/icon/faces/0.png\'" />'}else 6==master.mstGift[d].type?c+='<img src="common/images/icon/faces/'+master.mstGift[d].objectId+'0.png" class="itemS" title="'+findSvtNameZh2(master.mstGift[d].objectId)+'" onerror="javascript:this.src=\'common/images/icon/faces/0.png\'" />\u671f\u9593\u9650\u5b9a\u52a0\u5165':
3==master.mstGift[d].type?c+="\u7d46":4==master.mstGift[d].type?c+="Exp":5==master.mstGift[d].type&&(g=findName(master.mstEquip,master.mstGift[d].objectId),c+='<img src="common/images/icon/equip/'+master.mstEquip[g].maleImageId+'.png" onerror="javascript:this.src=\'common/images/icon/item/0.png\'" class="itemS" title="'+master.mstEquip[g].name+'" alt="'+master.mstEquip[g].name+'" /><img src="common/images/icon/equip/'+master.mstEquip[g].femaleImageId+'.png" onerror="javascript:this.src=\'common/images/icon/item/0.png\'" class="itemS" title="'+
master.mstEquip[g].name+'" alt="'+master.mstEquip[g].name+'" />');1<master.mstGift[d].num&&(c+="x"+addCommas(master.mstGift[d].num));1==u%2&&(c+="<br>");u++}0==c.length&&0==master.mstQuest[b].giftIconId&&(c+="\u7121");var a=a+c,a=a+"</td><td>",a=a+('<div style="float:left;"><img src="common/images/icon/war/'+master.mstWar[n].id+'.png" title="'+master.mstWar[n].longName.replace(/\\n/g,"<br>")+'" onerror="javascript:this.src=\'common/images/icon/war/9999.png\'" class="itemS" /></div>'),a=a+'<div class="spotname"><span class="hint" title="',
e;for(e in master.mstQuestRelease)master.mstQuestRelease[e].questId==master.mstQuest[b].id&&(1==master.mstQuestRelease[e].type&&(a+="\u901a\u904e\uff1a"+master.mstQuest[findName(master.mstQuest,master.mstQuestRelease[e].targetId)].name+"\n"),2==master.mstQuestRelease[e].type&&(a+="\u5165\u624b\uff1a"+master.mstItem[findName(master.mstItem,master.mstQuestRelease[e].targetId)].name,1<master.mstQuestRelease[e].value&&(a+="x"+master.mstQuestRelease[e].value),a+="\n"),7==master.mstQuestRelease[e].type&&
(a+=findSvtNameZh2(master.mstQuestRelease[e].targetId)+"\uff1a\u9748\u57fa\u518d\u81e8\u7b2c"+master.mstQuestRelease[e].value+"\u968e\u6bb5\n"),9==master.mstQuestRelease[e].type&&(a+=findSvtNameZh2(master.mstQuestRelease[e].targetId)+"\uff1a\u7d46\u7b49\u7d1a"+master.mstQuestRelease[e].value+"\n"));a+='">'+master.mstSpot[t].name+"</span></div>";a+="</td></tr>"}$("#dataTable tbody").empty();$("#dataTable tbody").append(a)}
function initTable(){dataRead();$("#dataTable").tablesorter({headers:{0:{sorter:!1},7:{sorter:!1},8:{sorter:!1},9:{sorter:!1}}});spotAdjust()}function updateTable2(){$("#dataTable");dataRead();$("#dataTable").trigger("update");setTimeout(function(){$("#dataTable").trigger("sorton",[$("#dataTable")[0].config.sortList])},10);spotAdjust()}function spotAdjust(){$(".spotname").each(function(a){9<$(this).text().length&&$(this).width($(this).width()*$(this).text().length/9+"px")})};
</script>
</head>
<body onload="loadsidebar();initTable();">
<!--二欄橫幅主要區塊開始-->
<div style='position:relative;'>
    <!--選單區塊開始-->
    <div id="div_right_sidebar"></div>
    <!--選單區塊結束-->
    <!--主要內容區塊開始-->
    <div id="div_content">
<div class="container">
<article class="content textsize" style="width:840px">
	<div class="bkmkO">關卡列表</div>
	<a href="questn.html"><div class="bkmk">無戰鬥關卡</div></a><div style="clear:left;"></div>
<form>
  <fieldset style="width:550px;text-align:center;">
    <legend>篩選條件</legend>
	<input type="checkbox" id="nofree" />去除無法重複通過關卡</span><br>
	絆＋<input id="fexpup" type="text" size="3" value="0">(最大+100)
<!-- 	EXP＋<input id="expup" type="text" size="3" value="0">%　
	QP＋<input id="qpplus" type="text" size="3" value="0">% --><br>
	<input type="button" value="開始篩選" onclick="updateTable2();">
  </fieldset>
</form>
<table id="dataTable" class="tablesorter mouseover" style="width:1200px;text-align:center;">
<thead>
<tr><th>關卡名</th><th>消耗AP</th><th>絆</th><th>絆/AP</th><th>EXP</th><th>EXP/AP</th><th>QP</th><th>特性</th><th>初次獎勵</th><th>開放條件與地點</th></tr>
</thead>
<tbody></tbody>
</table>
</article>
</div>
<div id="gotop"><a href="#"><img src="common/images/btn_gotop_off.jpg" width="47" height="47" alt="返回頂端" /></a></div>
    </div>
    <!--主要內容區塊結束-->
</div>
<!--二欄橫幅主要區塊結束-->
</body>
</html>