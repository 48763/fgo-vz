<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>關卡一覽</title>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon">
<link href="common/css/common.css" rel="stylesheet" type="text/css" />
<link href="common/css/detail_info.css" rel="stylesheet" type="text/css" />
<link href="common/css/sidebar.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="common/js/jquery.min.js"></script>
<script type="text/javascript" src="common/js/sidebar.js"></script>
<script type='text/javascript' src='common/js/master.js'></script>
<script type='text/javascript' src='common/js/transData.js'></script>
<script type="text/javascript" src="common/js/smoothRollOver.js"></script>
<script type="text/javascript" src="common/js/scrollTop.js"></script>
<script type="text/javascript" src="common/js/jquery.tablesorter.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70142247-1', 'auto');
  ga('require', 'linkid');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
<script type="text/javascript">
function dataRead(){var a="",u=nowTime(),q=[[2038,"\u967d\u5149"],[2039,"\u6c34\u908a"],[2073,"\u68ee\u6797"],[2121,"\u71c3\u71d2"]];0>$("#fexpup").prop("value")?$("#fexpup").prop("value",0):100<$("#fexpup").prop("value")?$("#fexpup").prop("value",100):$("#fexpup").prop("value",Math.floor($("#fexpup").prop("value")));for(var c in master.mstQuest)if(master.mstQuest[c].closedAt>=u&&2!=master.mstQuest[c].flag&&!master.mstQuest[c].name.match(/^[a-z0-9]*$/)&&(!$("#nofree").prop("checked")||1!=master.mstQuest[c].afterClear)){var a=a+'<tr><td style="text-align:left;">',
v=findName(master.mstSpot,master.mstQuest[c].spotId),f=findName(master.mstWar,master.mstSpot[v].warId);0<master.mstQuest[c].chapterSubId&&1==master.mstQuest[c].type&&(a+=master.mstWar[f].name+" \u7b2c"+master.mstQuest[c].chapterSubId+"\u7bc0 ");if(3==master.mstQuest[c].type||0!=master.mstQuest[c].charaIconId)a:for(var m in master.mstSvt)for(var w in master.mstSvt[m].relateQuestIds)if(master.mstSvt[m].relateQuestIds[w]==master.mstQuest[c].id){a+='<a href="svtData.html?';a=0==master.mstSvt[m].collectionNo?
a+("id="+master.mstSvt[m].id):a+("no="+master.mstSvt[m].collectionNo);a+='"><img src="common/images/icon/faces/'+master.mstSvt[m].id+'0.png" class="itemS" title="'+findSvtNameZh2(master.mstSvt[m].id)+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" /></a> ';break a}a+=master.mstQuest[c].name;a+="</td><td>";2==master.mstQuest[c].consumeType&&(a+="BP ");if(3!=master.mstQuest[c].consumeType)a+=master.mstQuest[c].actConsume;else for(var n in master.mstQuestConsumeItem)if(master.mstQuestConsumeItem[n].questId==
master.mstQuest[c].id)for(var r in master.mstQuestConsumeItem[n].itemIds){var b=findName(master.mstItem,master.mstQuestConsumeItem[n].itemIds[r]),a=a+('<img src="common/images/icon/items/'+master.mstItem[b].imageId+'.png" class="itemS" title="'+master.mstItem[b].name+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" />x'+master.mstQuestConsumeItem[n].nums[r]);1==r%2&&(a+="<br>")}var a=a+"</td><td>",b=[],g;for(g in master.mstQuestPhase)master.mstQuestPhase[g].questId==master.mstQuest[c].id&&
b.push([master.mstQuestPhase[g].classIds,master.mstQuestPhase[g].individuality,master.mstQuestPhase[g].qp,master.mstQuestPhase[g].playerExp,master.mstQuestPhase[g].friendshipExp]);for(var k in b)if(0!=b[k][2]&&0!=b[k][3]&&0!=b[k][4])break;b[k][4]+=parseInt($("#fexpup").prop("value"));var a=a+b[k][4],a=a+"</td><td>",a=1==master.mstQuest[c].consumeType&&0!=master.mstQuest[c].actConsume?a+Math.round(100*b[k][4]/master.mstQuest[c].actConsume)/100:a+"0",a=a+"</td><td>",a=a+b[k][3],a=a+"</td><td>",a=1==
master.mstQuest[c].consumeType&&0!=master.mstQuest[c].actConsume?a+Math.round(100*b[k][3]/master.mstQuest[c].actConsume)/100:a+"0",a=a+"</td><td>",a=a+b[k][2],a=a+'</td><td style="text-align:left;">',l=[],t;for(t in q){l.length=0;for(g in b)for(var x in b[g][1])b[g][1][x]==q[t][0]&&l.push(parseInt(g)+1);0<l.length&&(a+="\u3014"+q[t][1]+"\u3015");a+=l;0<l.length&&(a+="<br>")}a+="</td><td>";if(8==master.mstQuest[c].giftIconId||9==master.mstQuest[c].giftIconId)a+='<img src="common/images/icon/items/'+
master.mstQuest[c].giftIconId+'.png" class="itemS" />';var b="",l=master.mstQuest[c].giftId,p=0,d;for(d in master.mstGift)if(l==master.mstGift[d].id){if(2==master.mstGift[d].type)b+='<img src="common/images/icon/items/'+master.mstItem[findName(master.mstItem,master.mstGift[d].objectId)].imageId+'.png" class="itemS" title="'+master.mstItem[findName(master.mstItem,master.mstGift[d].objectId)].name+'" onerror="javascript:this.src=\'common/images/icon/items/0.png\'" />';else if(1==master.mstGift[d].type||
7==master.mstGift[d].type){var b=b+('<img src="common/images/icon/faces/'+master.mstGift[d].objectId),h=master.mstSvt[findName(master.mstSvt,master.mstGift[d].objectId)].type;6!=h&&3!=h&&(b+="0");b+='.png" class="itemS" title="'+findSvtNameZh2(master.mstGift[d].objectId)+'" alt="'+findSvtNameZh2(master.mstGift[d].objectId)+'" onerror="javascript:this.src=\'common/images/icon/faces/0.png\'" />'}else 6==master.mstGift[d].type?b+='<img src="common/images/icon/faces/'+master.mstGift[d].objectId+'0.png" class="itemS" title="'+
findSvtNameZh2(master.mstGift[d].objectId)+'" onerror="javascript:this.src=\'common/images/icon/faces/0.png\'" />\u671f\u9593\u9650\u5b9a\u52a0\u5165':3==master.mstGift[d].type?b+="\u7d46":4==master.mstGift[d].type?b+="Exp":5==master.mstGift[d].type&&(h=findName(master.mstEquip,master.mstGift[d].objectId),b+='<img src="common/images/icon/equip/'+master.mstEquip[h].maleImageId+'.png" onerror="javascript:this.src=\'common/images/icon/item/0.png\'" class="itemS" title="'+master.mstEquip[h].name+'" alt="'+
master.mstEquip[h].name+'" /><img src="common/images/icon/equip/'+master.mstEquip[h].femaleImageId+'.png" onerror="javascript:this.src=\'common/images/icon/item/0.png\'" class="itemS" title="'+master.mstEquip[h].name+'" alt="'+master.mstEquip[h].name+'" />');1<master.mstGift[d].num&&(b+="x"+addCommas(master.mstGift[d].num));1==p%2&&(b+="<br>");p++}0==b.length&&0==master.mstQuest[c].giftIconId&&(b+="\u7121");a+=b;a+="</td><td>";a+='<div style="float:left;"><img src="common/images/icon/war/'+master.mstWar[f].id+
'.png" title="'+master.mstWar[f].longName.replace(/\\n/g,"<br>")+'" onerror="javascript:this.src=\'common/images/icon/war/9999.png\'" class="itemS" /></div>';a+='<div class="spotname"><span class="hint" title="';master.mstQuest[c].openedAt>u&&(f=new Date,localTime=f.getTime(),localOffset=6E4*f.getTimezoneOffset(),f=new Date(1E3*master.mstQuest[c].openedAt),f.getFullYear(),b=f.getMonth()+1,l=f.getDate(),p=f.getHours(),h=addZero(f.getMinutes()),addZero(f.getSeconds()),a+=b+"/"+l+" "+ +p+":"+h+"\uff5e\n");
for(var e in master.mstQuestRelease)master.mstQuestRelease[e].questId==master.mstQuest[c].id&&(1==master.mstQuestRelease[e].type&&(a+="\u901a\u904e\uff1a"+master.mstQuest[findName(master.mstQuest,master.mstQuestRelease[e].targetId)].name+"\n"),2==master.mstQuestRelease[e].type&&(a+="\u5165\u624b\uff1a"+master.mstItem[findName(master.mstItem,master.mstQuestRelease[e].targetId)].name,1<master.mstQuestRelease[e].value&&(a+="x"+master.mstQuestRelease[e].value),a+="\n"),7==master.mstQuestRelease[e].type&&
(a+=findSvtNameZh2(master.mstQuestRelease[e].targetId)+"\uff1a\u9748\u57fa\u518d\u81e8\u7b2c"+master.mstQuestRelease[e].value+"\u968e\u6bb5\n"),9==master.mstQuestRelease[e].type&&(a+=findSvtNameZh2(master.mstQuestRelease[e].targetId)+"\uff1a\u7d46\u7b49\u7d1a"+master.mstQuestRelease[e].value+"\n"),24==master.mstQuestRelease[e].type&&(a+="\u9054\u6210\uff1a\u4efb\u52d9No."+master.mstEventMission[findName(master.mstEventMission,master.mstQuestRelease[e].targetId)].dispNo+"\n"));a+='">'+master.mstSpot[v].name+
"</span></div>";a+="</td></tr>"}$("#dataTable tbody").empty();$("#dataTable tbody").append(a)}function initTable(){dataRead();$("#dataTable").tablesorter({headers:{0:{sorter:!1},7:{sorter:!1},8:{sorter:!1},9:{sorter:!1}}});spotAdjust()}function updateTable2(){$("#dataTable");dataRead();$("#dataTable").trigger("update");setTimeout(function(){$("#dataTable").trigger("sorton",[$("#dataTable")[0].config.sortList])},10);spotAdjust()}
function spotAdjust(){$(".spotname").each(function(a){9<$(this).text().length&&$(this).width($(this).width()*$(this).text().length/9+"px")})}function addZero(a){10>a&&(a="0"+a);return a};
</script>
</head>
<body onload="loadsidebar();initTable();">
<!--二欄橫幅主要區塊開始-->
<div style='position:relative;'>
    <!--選單區塊開始-->
    <div id="div_right_sidebar"></div>
    <!--選單區塊結束-->
    <!--主要內容區塊開始-->
    <div id="div_content">
<div class="container">
<article class="content textsize" style="width:840px">
	<div class="bkmkO">關卡列表</div>
	<a href="questn.html"><div class="bkmk">無戰鬥關卡</div></a><div style="clear:left;"></div>
<form>
  <fieldset style="width:550px;text-align:center;">
    <legend>篩選條件</legend>
	<input type="checkbox" id="nofree" />去除無法重複通過關卡</span><br>
	絆＋<input id="fexpup" type="text" size="3" value="0">(最大+100)
<!-- 	EXP＋<input id="expup" type="text" size="3" value="0">%　
	QP＋<input id="qpplus" type="text" size="3" value="0">% --><br>
	<input type="button" value="開始篩選" onclick="updateTable2();">
  </fieldset>
</form>
<table id="dataTable" class="tablesorter mouseover" style="width:1300px;text-align:center;">
<thead>
<tr><th>關卡名</th><th>消耗AP</th><th>絆</th><th>絆/AP</th><th>EXP</th><th>EXP/AP</th><th>QP</th><th>特性</th><th>初次獎勵</th><th>開放條件與地點</th></tr>
</thead>
<tbody></tbody>
</table>
</article>
</div>
<div id="gotop"><a href="#"><img src="common/images/btn_gotop_off.jpg" width="47" height="47" alt="返回頂端" /></a></div>
    </div>
    <!--主要內容區塊結束-->
</div>
<!--二欄橫幅主要區塊結束-->
</body>
</html>